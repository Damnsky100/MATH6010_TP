# Import the librairies from f_elasticNetModel.R

```{r}
library(lubridate)
library(PerformanceAnalytics)
library(here)
library(xts)
library(zoo)
library(TTR)
library(stats)
library(caret)
library(glmnet)
library(Metrics)
library(quantmod)
library(R6)


source(here("Function", "f_clean_data.R"))
source(here("Function", "f_cluster.R"))
source(here("Function", "f_elasticNetModel.R"))


```


## Download the data 


```{r}
# Download Data
# List of tickers
df_clusters_yearly <- f_cluster(10)
tickers <- c("AMAT" , "COST", "DISH" , "GILD",  "GOOGL", "MSFT",  "QCOM", "QRTEA", "RYAAY", "VRTX")

priceData <- get_stock_data(tickers)
summary(priceData)
nrow(priceData)


head(priceData[priceData$ticker == "VRTX", ])
# Save the 'data' object to an RData file
save(priceData, file = here("Clean_Data", "stock_data.rda"))

# To load the data back into R at a later time
load(here("Clean_Data", "stock_data.rda"))


```

```{r}
#Trouver notre univers d'investissement

# Rouler la crÃ©ation de notre objet + manipulations
result <- init_instance(dataPrice, tickers)

# Retreive the best elastic net model for each tickers (Just switch GE for the another ticker)
result$resultsList$GE$model

#Retreive the coefficients of the models for each tickers (Just switch GE for the another ticker)
result$resultsList$GE$coefficients

#Retreive the MSE (Out of sample - Testing set) for every model (Just switch GE for the another ticker)
result$resultsList$GE$mse

# Retreive the price predicion in 10 days for the tickers 
result$pricePrediction

#Retreive l'univers d'investissement
result$tickers 


```




```{r}


```



```{r}


```